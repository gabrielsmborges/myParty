<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}{% endblock %}</title>
  <!-- CSS only -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
  <link rel="shortcut icon" href="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/241/party-popper_1f389.png" type="image/x-icon">
  <!-- JS, Popper.js, and jQuery -->
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam:wght@400;700;800&display=swap" rel="stylesheet">
</head>
<style>
  body{
    background-color: #ddd;
    font-family: Be Vietnam;
  }
  .red{
      background-color: red;
  }
  .padding-0{
    padding:0;
}
  #add-reeq{
    background-color: #555555;
  }
  #add-reeq:hover{
    background-color: #AAA;
  }
</style>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <a class="navbar-brand" href="/">
        <img src="https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/241/party-popper_1f389.png" width="30" height="30" alt="" loading="lazy">
    </a>
    <a class="navbar-brand" href="/">myParty</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
  
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
            <a class="nav-link" href="/">Create Party <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/register">Invitations</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/register">My Parties</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/register">Search</a>
        </li>
        
      </ul>
    </div>
  </nav>
  <div class="container mt-3">
    <!--<div class="container">
      <h3>New Party</h3>
    </div>-->
    <div class="card mx-auto" style="max-width: 900px;">
      <div class="card-body">
        <h3 class="card-title">New Party</h3>
        <p class="card-text">
          <form>
            <div class="form-group">
              <label for="party_name">Name: (Party)</label>
              <input type="text" class="form-control" id="party_name" name="party_name" required>
            </div>
            <div class="form-group">
              <label for="address">Address:</label>
              <input type="text" class="form-control" id="address" name="address" required>
            </div>
            <div class="form-group">
              <label for="date">Date: </label>
              <input type="date" class="form-control" id="date" required>
            </div>
            <div class="form-group">
              <label for="time">Hour: </label>
              <input type="time" class="form-control" id="time" required>
            </div>
            <div class="form-group">
            <input onclick="publicmessage()" type="checkbox" name="public" id="public">
              <label for="public">Public</label>
              <small id="private-default-alert" class="form-text text-muted">Default set to Private</small>
            </div>
            <div class="form-group">
              <input type="checkbox" name="eighteen" id="eighteen">
              <label for="eighteen">18+</label>
            </div>
            <input id="requirements-list" hidden>
            <div class="form-group">
              <h5>Requirements: </h5>
              <div class="container">
                <ul class="list-group">
                  <li onclick="addReq()" id="add-reeq" style="cursor: pointer;" class="list-group-item text-center text-white">
                    Add Requirement
                  </li>
                  <div>
                    <ul id="prerequirements" class="list-group">
                      
                    </ul>
                  </div>
                  <div id="requirements-receiver">
                    <li class="list-group-item">
                      <small class="form-text text-muted">No Requirements</small>
                    </li>
                  </div>
                </ul>
              </div>
            </div>
            <button type="submit" class="btn btn-primary">Let's Party!!!</button>
          </form>
        </p>
      </div>
    </div>
  </div>
  <script>


    var requirements = 0
    const addReq = () => {
      requirements++
      if (requirements == 0){
        document.querySelector("#requirements-receiver").innerHTML = `<li class="list-group-item">
          <small class="form-text text-muted">No Requirements</small>
        </li>`
      }
      if (requirements == 1){
        document.querySelector("#requirements-receiver").innerHTML = `
        <li class="container list-group-item">
                      <div class="row">
                        <div class="col-2 padding-0">
                          <select class="form-control" onchange="changeType()" id="requirement-type">
                            <option value="money">Money</option>
                            <option value="product">Product</option>
                          </select>
                        </div>
                        <div class=" col-9 flex padding-0 container-fluid">
                          <div id="variable-input">
                            <div class="col-12 pr-0 input-group">
                              <input class="form-control" placeholder="Amount" type="text" name="money-amount" id="money-amount" required>
                              <div class="input-group-append">
                                <span class="input-group-text">$</span>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div class="col-1">
                          <button type="button" onclick="addRequirementToList()" class="btn btn-success"><i class="fa fa-check"></i></button>
                        </div>
                      </div>
                    </li>`
      }else{

      }
    }

    changeType = () => {
      if (document.querySelector('#requirement-type').value == "money"){
        document.querySelector("#variable-input").innerHTML = `<div class="col-12 pr-0 input-group">
                              <input class="form-control" placeholder="Amount" type="text" name="money-amount" id="money-amount" required>
                              <div class="input-group-append">
                                <span class="input-group-text">$</span>
                              </div>
                            </div>`
      }else{
        document.querySelector("#variable-input").innerHTML = `
                            
                              <div class="container">
                                <div class="row">
                                  <div class="col-9 pr-0 input-group">
                                  <input class="form-control" placeholder="Name" type="text" name="product-name" id="product-name" required>
                                </div>
                                <div class="col-3 pr-0 input-group">
                                  <input class="form-control" placeholder="Amount" type="number" name="product-amount" id="product-amount" required>
                                </div>
                                </div>
                              </div>
                            `
      }
    }
    var reqIndex = 0
    var reqList = []
    addRequirementToList = () => {
      if (document.querySelector("#requirement-type").value == "product"){
        console.log(document.querySelector("#requirement-type").value)
        console.log(document.querySelector("#product-name").value)
        console.log(document.querySelector("#product-amount").value)
        updateList("product")
      }else{
        console.log(document.querySelector("#requirement-type").value)
        console.log(document.querySelector("#money-amount").value)
        updateList("money")
      }
    }

    const updateList = (type) => {
      if (type == "product"){
        reqList.push({"type": document.querySelector("#requirement-type").value, "name": document.querySelector("#product-name").value, "amount": document.querySelector("#product-amount").value})
      }else{
        reqList.push({"type": document.querySelector("#requirement-type").value, "name": "", "amount": document.querySelector("#money-amount").value})
      }
      console.log(reqList)
      updateDisplay()
    }

    const updateDisplay = () => {
      document.querySelector("#requirements-list").value = reqList
      document.querySelector("#prerequirements").innerHTML = ""
      reqList.forEach(value =>{
        
        if (value.type == "product"){
          document.querySelector("#prerequirements").innerHTML += `<li class="list-group-item">${value.amount} x ${value.name}</li>`
        }else{
          document.querySelector("#prerequirements").innerHTML += `<li class="list-group-item">Money: ${value.amount}$</li>`
        }
      })
    }
    const publicmessage = () => {
      if (document.querySelector('#public').checked == true){
        document.querySelector('#private-default-alert').innerHTML = "Anyone can go to your party"
      }else{
        document.querySelector('#private-default-alert').innerHTML = "Default set to Private"
      }
    }
  </script>
</body>
</html>


<!--<div class="row">
                  <div class="col-2 padding-0">
                    <select class="form-control" id="requirement-type">
                      <option value="money">Money</option>
                      <option value="product">Product</option>
                    </select>
                  </div>
                  <div class=" col-10 flex padding-0 container-fluid">
                    <div id="variable-input" class="row">
                      <div class="col-12 pr-0 input-group">
                        <input class="form-control" placeholder="Amount" type="text" name="" id="">
                        <div class="input-group-append">
                          <span class="input-group-text">$</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>-->

<!--<ul class="list-group">
                <li class="list-group-item">Cras justo odio</li>
                <li class="list-group-item">Dapibus ac facilisis in</li>
                <li class="list-group-item">Morbi leo risus</li>
                <li class="list-group-item">Porta ac consectetur ac</li>
                <li class="list-group-item">Vestibulum at eros</li>
              </ul>-->